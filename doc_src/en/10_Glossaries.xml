<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"file:///C:/docbook-xml-4.5/docbookx.dtd">
<chapter id="ch10.glossaries">
  <title>Glossaries</title>

  <para>Glossaries are files created and updated manually for use in
  <application>OmegaT</application>.</para>

  <para>If an <application>OmegaT</application> project contains one or more glossaries, any terms in the
  glossary which are also found in the active segment will be automatically
  displayed in the Glossary viewer</para>

  <section>
    <title>Usage</title>

    <para>To use an existing glossary, simply place it in the /glossary folder
    after creating the project. <application>OmegaT</application> automatically detects glossary files in
    this folder when a project is opened. Terms in the active segment which
    <application>OmegaT</application> finds in the glossary file(s) are displayed in the Glossary
    pane:</para>

      <mediaobject>
        <imageobject>
          <imagedata fileref="images/Glossary_pane.png"></imagedata>
        </imageobject>
      </mediaobject>

    <para>The word before the = sign is the source term, and its translation
    is (or are) the words behind =. The vocabulary entry can have a comment
    added (see "transitive verb" for the second item). The glossary function
    only finds exact matches with the glossary entry (e.g. does not find
    inflected forms etc.). New terms can be added manually to the glossary
    file(s) during translation (for example in a text editor), but newly added
    terms will not be recognized until the project is reloaded. </para>
  </section>

  <section>
    <title>File format</title>

    <para>Glossary files are simply plain text files containing three-column,
    tab-delimited lists with the source and target terms in the first and
    second columns respectively. The third column can be used for additional
    information. Glossary files can be either in system default encoding (and
    indicated by the extension .tab) or in UTF-8 (the extension .utf8). The
    Unicode encoding (UTF8) is to be preferred for obvious reasons.</para>
  </section>

  <section>
    <title>How to create glossaries</title>

    <para>The method here is foolproof, when followed in a reasonably careful
    fashion. You need OpenOffice.org Writer for it, so - if you haven't
    already done so - download and install OpenOffice.org. Launch
    OpenOffice.org and open a new text document or launch "OpenOffice.org
    Writer".</para>

    <para> In the empty document, enter your glossary terms as follows: a
    source-language term, tabspace, the target-language term , tabspace, a
    comment or explanation for the item, and a Return. Tabspace is the
    tabulator key on the lefthand side of the keyboard. If you do not want to
    add any comments, you can drop the second tabspace. A "term" can be a
    single word or a whole phrase. On the second line, enter the second term
    and its translation.</para>

    <para>When you have finished entering the terms, you will have two
    "columns" of terms, source-language terms on the left and their
    target-language terms on the right, and possibly a third column,
    containing you comments and explanations, The tabspace (→ in the example
    below) and Enter (¶ ) characters can be made visible by clicking on the ¶
    icon in the Writer's Standard writer bar. Here's a few lines of an English
    -German glossary)</para>

    <para><literal> word →Wort→das (-/e/s, Wörter/-e)</literal></para>

    <para><literal> small house→Häuschen→das, (pl Häuschen)¶</literal></para>

    <para><literal> dog →Hund→m, f Hündin ¶</literal></para>

    <para><literal> horse→Pferd→n, m Hengst f Stute n Fohlen</literal>¶</para>

    <para>Do NOT use OpenOffice.org's "columns" function to create columns:
    just separate each source and target-language term pair with a single
    tabspace.</para>

    <para>When you are finished with the entries, Select<literal> File &gt;
    Save As</literal>. In the "File location" box, enter a name for your
    glossary file, followed by the extension <emphasis role="bold">".utf8"
    </emphasis>(e.g. "MyGlossary.utf8"). For "Filter", select "<emphasis>Text
    Encoded (.txt.)</emphasis>". Uncheck the "<emphasis>Automatic file name
    extension</emphasis>" box and activate <emphasis>"Edit filter
    settings"</emphasis>,</para>

      <mediaobject>
        <imageobject>
          <imagedata fileref="images/saveglossary.png"></imagedata>
        </imageobject>
      </mediaobject>


    <para>Confirm with OK. A dialog box appears with two options:
    <emphasis>"Keep current format"</emphasis> and <emphasis>"Save in ODF
    format"</emphasis>. Select <emphasis>"Keep current format"</emphasis> to
    save in text encoded file format. In the ASCII Filter Options dialog (see
    below), select <emphasis>"Unicode (UTF-8)</emphasis>" as the character
    set:</para>

      <mediaobject>
        <imageobject>
          <imagedata fileref="images/AsciiFilteroptions.png"></imagedata>
        </imageobject>
      </mediaobject>

    <para> Confirm with OK.</para>

    <para>After creating an <application>OmegaT</application> project, copy or move this file into the
    project's \glossary folder. If the project is already open, reload it
    after copying the glossary file. You can make changes to a glossary file
    whilst it is being used in project. Glossary changes are being detected
    approximately once every second and modifications loaded transparently in
    the background, so there's no need to reload the project after saving the
    new glossary file.</para>

    <para>When a segment containing a source-text term is opened, the glossary
    pane will display glossary entries for those items in the source segment
    that can be found in the glossary (or glossaries - you can have more than
    one available, and they can be stored in subfolders of <emphasis>glossary
    </emphasis>as well). </para>
  </section>

  <section>
    <title>Using Trados Multiterm</title>

    <para>Glossaries created using Trados Multiterm's text export function for
    example can be used as <application>OmegaT</application> glossaries without further modification,
    provided they are given the file extension .tab and the source and target
    term fields are the first two fields respectively. If you export using the
    system option "Tab-delimited export", you will need to delete the first 5
    columns (Seq. Nr, Date created etc) before the two items of
    interest.</para>
  </section>

  <section>
    <title>Common glossary problems</title>

    <variablelist>
      <varlistentry>
        <term>Problem: No glossary terms are displayed.</term>

        <listitem>
          <para>Possible causes:</para>

          <itemizedlist>
            <listitem>
              <para>no glossary file in the "glossary" folder</para>
            </listitem>
          </itemizedlist>

          <itemizedlist>
            <listitem>
              <para>glossary file is empty</para>
            </listitem>
          </itemizedlist>

          <itemizedlist>
            <listitem>
              <para>the items are not separated with a TAB character</para>
            </listitem>
          </itemizedlist>

          <itemizedlist>
            <listitem>
              <para>the glossary file does not have the correct extension
              (.tab or .utf8)</para>
            </listitem>
          </itemizedlist>

          <itemizedlist>
            <listitem>
              <para>There is not an EXACT match between the glossary entry and
              the source text in your document - for instance when the item is
              in plural</para>
            </listitem>
          </itemizedlist>

          <itemizedlist>
            <listitem>
              <para>the glossary file does not have the correct
              encoding</para>
            </listitem>
          </itemizedlist>

          <itemizedlist>
            <listitem>
              <para>there are no terms in the active segment which match any
              terms in the glossary</para>
            </listitem>
          </itemizedlist>

          <itemizedlist>
            <listitem>
              <para>one or more of the above problems may have been fixed, but
              the project has not been reloaded.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Problem: In the glossary pane, some characters are not displayed
        properly (but the same characters are displayed properly in the
        Editing pane).</term>

        <listitem>
          <para>Possible causes:</para>

          <itemizedlist>
            <listitem>
              <para>the extension and the file encoding do not match.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>
</chapter>
