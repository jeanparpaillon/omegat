<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html>
<head>
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8">

  <title>Working with Formatted Text - OmegaT 1.7.3 User Manual</title>
</head>

<body>
  <h1>Working with formatted texts</h1>

  <h2>Contents</h2>

  <div style="margin-left: 0.0cm">
    <ul>
      <li style="margin-bottom: 0cm"><a href="#intro">Introduction</a></li>

      <li style="margin-bottom: 0cm"><a href="#tag_segmenting">Tags and sentence segmenting</a></li>

      <li style="margin-bottom: 0cm"><a href="#tag_operation">Tag operations</a></li>

      <li style="margin-bottom: 0cm"><a href="#tag-overlapping">Tag group overlapping</a></li>

      <li style="margin-bottom: 0cm"><a href="#tag_validation">Tag group validation</a></li>

      <li style="margin-bottom: 0cm"><a href="#tag_hints">Hints for tags management</a></li>
    </ul>
  </div>

  <h3><a name="intro" id="intro"></a>Introduction</h3>

  <p style="margin-left: 1.00cm">Formatting information present in the source file usually needs to be reproduced in the target file. OmegaT displays the in-line formatting information of supported
  formats (at present DocBook, HTML, XHTML, Open Document, and OpenOffice.org) as tags. Tags are usually not taken into account when considering string similarity for matching purposes. Tags that you
  have reproduced in the translated segment will be present in the translated document.</p>

  <h4 style="margin-left: 1.00cm">Tag naming</h4>

  <p style="margin-left: 1.00cm">The tags consist of one to three characters and a number. Unique number allows to group those tag that correspond to each other, and differentiate the tags that can
  have the same shortcut character, but are in fact different. The characters may or may not reflect the value of the formatting the tag represents (e.g. bold, italics, etc.)</p>

  <h4 style="margin-left: 1.00cm">Tag numbering</h4>

  <p style="margin-left: 1.00cm">Tags are numbered in an incremental way by <strong>tag group</strong>. What we call "tag groups" here is either a single tag (like <code>&lt;br1&gt;</code>), on its
  own, or 2 tags forming a pair (like <code>&lt;f3&gt;</code> and <code>&lt;/f3&gt;</code>). Withing a segment, the first group (pair or singleton) gets the number <strong>0</strong>, the second the
  number <strong>1</strong> etc. The first example below has 3 tag groups (a pair, a singleton, and then another pair), the second example only has one group (a pair).</p>

  <h4 style="margin-left: 1.00cm">Pairs and singletons</h4>

  <p style="margin-left: 1.00cm">Tags always come either in singletons or in pairs. <strong>Single tags</strong> indicate formatting information that does not affect the surrounding text (extra space
  or line break for example).</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 2132&gt;</strong>&lt;b0&gt;&lt;Ctr+N&gt;&lt;/b0&gt;, &lt;br1&gt;&lt;b2&gt;&lt;Enter&gt;&lt;/b2&gt;<strong>&lt;end segment&gt;</strong>
</pre>

  <p style="margin-left: 1.00cm"><code><strong>&lt;br1&gt;</strong></code> is a single tag and does not affect any surrounding text. <strong>Paired tags</strong> usually indicate style information
  that applies to the text between the opening tag and the closing tag of a pair. Whatever happens to a pair, the opening tag should always come before the closing tag.</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 3167&gt;</strong>Log file (&lt;f1&gt;log.txt&lt;/f1&gt;) for tracking operations and errors.<strong>&lt;end segment&gt;</strong>
</pre>

  <p style="margin-left: 1.00cm"><code><strong>&lt;f1&gt;</strong></code> and <code><strong>&lt;/f1&gt;</strong></code> are paired and affect <code><strong>log.txt</strong></code>.</p>

  <h3><a name="tag_segmenting" id="tag_segmenting"></a>Tags and sentence segmenting</h3>

  <p style="margin-left: 1.00cm">OmegaT creates its tags before sentences segmenting is applied. Depending on the segmenting rules, tags may look like they do not respect the above rules of numbering
  and grouping.</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 1554&gt;</strong> &lt;f0&gt;Before: \. After: \s&lt;/f0&gt;<strong>&lt;end segment&gt;</strong>
</pre>

  <p style="margin-left: 1.00cm">There seems to be no problem here. Now, if we apply the default segmenting rules on this segment (the default OmegaT behavior) we will have the following result:</p>
  <pre style="margin-left: 1.00cm">
   <strong>&lt;segment 1990&gt;</strong> &lt;f0&gt;Before: \. <strong>&lt;end segment&gt;</strong>
<strong>&lt;segment 1991&gt;</strong> After: \s&lt;/f0&gt;<strong>&lt;end segment&gt;</strong>
</pre>

  <p style="margin-left: 1.00cm">Segmenting rules that apply are: <i>segment after a period followed by a space</i> . In the above example we see that segments taken one by one do not respect the
  pairing and numbering rules:<code>&lt;f0&gt;</code> and <code>&lt;/f0&gt;</code> should be paired in the same segment, but are separated by the segmentation rules. In some cases that may even cause
  problems in the translation, when tags must be displaced in the target language to reflect the word order of that language (see <a href="#Tag_operations">Tag operations</a> below).</p>

  <h3 style="margin-left: 0.05cm"><a name="tag_operation" id="tag_operation"></a>Tag operations</h3>

  <p style="margin-left: 1.00cm">Care must be exercised with tags. If they are accidentally changed, the formatting of the final file may be corrupted. The sound approach is.&rdquo;Don't fix, what's
  not broken.&rdquo; However, it is still good to know, what is possible and how to do it.</p>

  <h4 style="margin-left: 1.00cm"><a name="Tag_group_duplication" id="Tag_group_duplication"></a>Tag group duplication:</h4>

  <p style="margin-left: 1.00cm">To duplicate tag groups, just copy them in the position of your choice. Keep in mind that in a pair group the opening tag must come before the closing tag. The
  formating represented by the group you duplicated will be applied to the section where you duplicated it.</p>

  <p style="margin-left: 1.00cm; margin-bottom: 0cm">Example:</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 0001&gt;</strong>&lt;f0&gt;This formatting&lt;/f0&gt; is going to be duplicated here.<strong>&lt;end segment&gt;</strong>
</pre>

  <p style="margin-left: 1.00cm; margin-bottom: 0cm">After duplication:</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 0001&gt;</strong>&lt;f0&gt;Ce format&lt;/f0&gt; a &eacute;t&eacute; &lt;f0&gt;copi&eacute; ici&lt;/f0&gt;.<strong>&lt;end segment&gt;</strong>
</pre>

  <h4 style="margin-left: 1.00cm">Tag group deletion</h4>

  <p style="margin-left: 1.00cm">To delete tag groups, just remove them from the segment. Keep in mind that a pair group must have its opening as well as its closing tag deleted to ensure all traces
  of the formatting are properly erased, otherwise the translated file might be corrupted and may not open. By deleting a tag group you will remove the related formatting from the translated
  file.</p>

  <p style="margin-left: 1.00cm; margin-bottom: 0cm">Example:</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 0001&gt;</strong>&lt;f0&gt;This formatting&lt;/f0&gt; is going to be deleted.<strong>&lt;end segment&gt;</strong>
</pre>

  <p style="margin-left: 1.00cm; margin-bottom: 0cm">After deletion:</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 0001&gt;</strong>Ce format a &eacute;t&eacute; effac&eacute;.<strong>&lt;end segment&gt;</strong>
</pre>

  <h4 style="margin-left: 1.00cm">Tag group order modification</h4>

  <p style="margin-left: 1.00cm">To change the order of a tag group to reflect a different language structure in the translation, simply put the tag group where it should be in the translation. The
  formatting will follow the part it is applied to.</p>
  <p style="margin-left: 1.00cm; margin-bottom: 0cm">Example:</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 0001&gt;</strong>&lt;f0&gt;The formatting here&lt;/f0&gt; and &lt;f1&gt;the formatting here&lt;/f1&gt; are going to be moved around.<strong>&lt;end segment&gt;</strong>
</pre>
  <p style="margin-left: 1.00cm; margin-bottom: 0cm">After order modification:</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 0001&gt;</strong>&lt;f1&gt;Ce format&lt;/f1&gt; et &lt;f0&gt;ce format&lt;/f0&gt; ont &eacute;t&eacute; invers&eacute;s.<strong>&lt;end segment&gt;</strong>
</pre>

  <h4 style="margin-left: 1.00cm">Tag group nesting</h4>

  <p style="margin-left: 1.00cm">Modifying a tag group order may result into nesting a tag group within another tag group. This is possible as long as the enclosing group totally encloses the
  enclosed group. Extra care must be taken with nesting especially in the case of tag pairs that are not fully moved inside an enclosing group otherwise the translated file might be corrupted and may
  not open. The nested part will have both formattings apply to it.</p>

  <p style="margin-left: 1.00cm; margin-bottom: 0cm">Example:</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 0001&gt;</strong>&lt;f0&gt;The formatting&lt;/f0&gt; &lt;f1&gt;here&lt;/f1&gt; is going to be nested.<strong>&lt;end segment&gt;</strong>
</pre>

  <p style="margin-left: 1.00cm; margin-bottom: 0cm">After nesting:</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 0001&gt;</strong>&lt;f0&gt;Le format &lt;f1&gt;ici&lt;/f1&gt;&lt;/f0&gt; a &eacute;t&eacute; emboit&eacute; dans le premier format.<strong>&lt;end segment&gt;</strong>
</pre>

  <h3 style="margin-left: 0.03cm"><a name="tag-overlapping" id="tag-overlapping"></a>Tag group overlapping</h3>

  <p style="margin-left: 1.00cm">Overlapping is the result of bad manipulations of tag pairs and will certainly result in formatting corruption and sometimes in the translating file not opening at
  all. Example:</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 0001&gt;</strong>&lt;f0&gt;the formatting&lt;/f0&gt; &lt;f1&gt;here&lt;/f1&gt; is going to be messed up.<strong>&lt;end segment&gt;</strong>
</pre>

  <p style="margin-left: 1.00cm; margin-bottom: 0cm">After bad manipulation:</p>
  <pre style="margin-left: 1.00cm; margin-bottom: 0.5cm">
   <strong>&lt;segment 0001&gt;</strong>&lt;f0&gt;the formatting &lt;f1&gt;here&lt;/f0&gt; &lt;/f1&gt;is very messed up now.<strong>&lt;end segment&gt;</strong>
</pre>

  <h3 style="margin-left: 0.03cm"><a name="tag_validation" id="tag_validation"></a>Tag group validation</h3>

  <p style="margin-left: 1.00cm">The validate tags function (<a href="userInterface.html#Tag_Validation">Tag validation</a>) detects changed tags (whether done deliberately or by accident), and
  indicates the affected segments. Use of this function will open a dialog with any suspected broken or bad tags in a document.</p>

  <p style="margin-left: 1.00cm">This function can be useful for tracking down bugs in a translated tagged text. This is often a problem in OpenDocument or OpenOffice.org files that will not open due
  to tag problems created in the process of translation. Fixing the tags and recreating the target documents again can often remedy the problem.</p>

  <h3><a name="tag_hints" id="tag_hints"></a>Hints for tags management</h3>

  <p style="margin-left: 1.00cm">Tags generally represent some kind of formatting in the original text. <strong>Simplifying the original text formatting</strong> greatly contributes to reducing the
  number of tags. Unifying used fonts, font sizes, colors etc should be considered if possible, to simplify the translation and reduce the number of possible tag errors. Take a look at the <a href=
  "#Tag_operations">Tag operations</a> section to see what can be done with tags. Remember that if tags bother you and formatting is not extremely relevant for the job at hand, removing most
  formatting from the source document will greatly ease the translation.</p>

  <p style="margin-left: 1.00cm">If you need to see the tags in OmegaT but do not need to retain most of the format in the translated document you are free not to add the tags to the translation. In
  this case <strong>pay extra attention to tag pairs</strong> since forgetting to delete one part of the pair will corrupt your document's formatting, which is what will keep a translated
  OpenOffice.org document to open. Since tags are included in the text itself, it is possible to use <a href="segmentation.html">Segmentation rules</a> to create segments with less tags. This is an
  advanced feature and experience is required to apply in properly.</p>

  <p style="margin-left: 0.9cm; margin-bottom: 0cm"><b>Important:</b> OmegaT is not yet able to detect mistakes in formatting fully automatically, so it will not prompt you if you make an error or
  change formatting to fit your target language better. Sometimes, however, your translated file will look distorted, and in case of OpenDocument / OpenOffice.org files will even refuse to open.</p>
  <hr>

  <p style="margin-bottom: 0cm"><a href="legalNotices.html">Legal notices</a></p>
</body>
</html>
