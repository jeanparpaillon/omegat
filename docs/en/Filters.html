<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<title>OmegaT: File Filters</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="changed" content="20051001">
<link rel="stylesheet" type="text/css" href="./omegat.css">
</head>

<body lang="en" dir="LTR">

<div class="navbar-top">

<table border="0" cellpadding="2" width="100%" summary="Navigation Bar">
<tr><td width="7%" align="left" valign="center"><a href="./OmegaT.html" title="Table of Contents"><img src="OmegaT.png" border="0" alt="OmegaT Logo"></a></td>
<td width="9%" align="left" valign="center"><b>Previous</b></td>
<td width="39%" align="left" valign="center"><a href="./FilesEditingTagged.html">Tagged (Formatted) Files Text Editing</a></td>
<td width="6%" align="left" valign="center"><b>Next</b></td>
<td width="39%" align="left" valign="center"><a href="./FilesProjDirs.html">Project Files and Directories</a></td></tr>
</table>

</div>

<div class="content">

<a name="13" />
<h1 align="center" name="13" id="13">File Filters</h1>

	<ol><li><a href="#13.1">Introduction</a></li>
	<li><a href="#13.2">File filter setup</a></li></ol>

<a name="13.1" />
<h2 name="13.1" id="13.1">Introduction</h2>

<p>OmegaT (since 1.4.5) features highly customizable filters, enabling you to setup most of the aspects of their work.</p>

<p>File filters are pieces of code capable of:</p>
<ul>
<li>Reading the document in some specific file format. For instance, plaintext files.</li>
<li>Extracting the translatable content out of the file.</li>
<li>Automating modifications of the translated document file names by replacing translatable contents with its translation.</li>
</ul>

<a name="13.1.1" />
<h3 name="13.1.1" id="13.1.1">File types</h3>

<p>When an OmegaT encounters a file in its source directory, it tries to select the filter using file's extension. More precisely, OmegaT tries to match each filter's source filename patterns against the filename. For example, <code>*.xhtml</code> pattern will match against any file with <code>.xhtml</code> extension. If the appropriate filter is found, it is given the file for processing. For example, by default HTML/XHTML filter will be used for processing files with <code>.xhtml</code> extension. You may change or add filename patterns of files each file filter will handle.</p>

<a name="13.1.2" />
<h3 name="13.1.2" id="13.1.2">File encodings</h3>

<p>Plaintext and HTML files may be stored in a full variety of encodings. While HTML files may contain an encoding meta directive and OmegaT will use it to read the file, text files have no agreed way to specify it. For both text files and HTML files without encoding declaration OmegaT will use the encoding you set up for a specific extension. For example, by default <code>.txt</code> files will be loaded using OS-default encoding. You may change the source encoding for each different source filename pattern.</p>

<p>HTML and plaintext files may also be written out in any encoding. For example, if you translate from French to Japanese you may either setup a filter to use one of Japanese target encodings, or use UTF-8, UTF-16, or UTF-32 Unicode encoding. By default, the encoding the file is saved in is the same encoding as was used for loading the file for text files, and UTF-8 for HTML files. Note that HTML filter adds an encoding declaration to the target file, so the browser will it, and will not display any clumsy characters.</p>

<a name="13.1.3" />
<h3 name="13.1.3" id="13.1.3">Target files renaming</h3>

<p>Sometimes you may like to rename the files you translate automatically, for example adding a language code after file name. You may also do it in a file filters dialog using target filename pattern.</p>

<a name="13.2" />
<h2 name="13.2" id="13.2">File Filters Setup</h2>

<p>Currently it seems that everybody is happy with default file filter options. If you are not, open the main dialog by selecting <b>Options &gt; File Filters...</b> from the main menu. Note that you may change filters options only when there is no project open, as they affect the way the translated files are created.</p>

<a name="13.2.1" />
<h3 name="13.2.1" id="13.2.1">File Filters Dialog</h3>

<p>The dialog lists available file filters.</p>

<p>If you don't want to use OmegaT to translate the files of some type, you may turn off the filter by unticking the checkbox near its name. OmegaT will then omit the appropriate files while loading projects, and will copy them untouched while creating target documents. Later when you decide to use the filter again, just tick the checkbox.</p>

<p>If you happen to screw up all the configuration, click <b>Defaults</b> to revert file filters configuration to default working state.</p>

<p>To edit what files in what encodings the filter will process, select the filter from the list and click <b>Edit</b>.</p>

<a name="13.2.2" />
<h3 name="13.2.2" id="13.2.2">Edit Filter Dialog</h3>

<p>The dialog allows you to setup the source filename patterns of files the filter will process, customize the filenames of translated files, and select what encodings it will use for loading the file and saving its translated counterpart.</p>

<p>Source filename pattern use DOS filemask rules. Symbol <code>*</code> may substitute any amount of any symbols, <code>?</code> substitutes any single symbol, and all other symbols mean themselves. For example, if you want the text filter to handle readme files (<code>readme</code>, <code>read.me</code>, and <code>readme.txt</code>) you should use the pattern <code>read*</code>.</p>

<p>Source and target encoding fields use combo boxes with all supported encodings included. Note that not all filters allow you to select an encoding because they work on a file format having only a single encoding possible. Setting encoding to "&lt;auto&gt;" for those file formats that allow you to choose encoding would mean that you trust OmegaT to make a decision. Here's how it does:</p>
<ul>
<li>OmegaT may try to guess the source file encoding of HTML/XHTML files.</li>
<li>And OmegaT will use the default encoding of the operating system for text files.</li>
</ul>

<p>Target filename pattern uses a special syntax, so if you wish to edit this field, you should better click <b>Edit...</b> to go to the Edit Pattern Dialog.</p>

<p>If you want the filter to handle files matching one more source filename pattern, click <b>Add...</b> to go to Add Pattern Dialog.</p>

<p>If you want to fall back to default configuration of the filter, click <b>Defaults</b>.</p>

<a name="13.2.3" />
<h3 name="13.2.3" id="13.2.3">Add/Edit Pattern Dialog</h3>

<p>The same dialog appears whether you want to add a pattern or edit one particular pattern. The only novel thing in it is a special target filename pattern editor, all other fields were described above.</p>

<p>Target filename pattern section allows you to compose the filename of the translated file from different parts.</p>

<ul>
<li>Default is <code>${filename}</code> -- full filename of the source file with extension, so that the name of the translated file is the same as the name of the source file.</li>
<li><code>${nameOnly}</code> allows you to insert only the name of the source file without the extension.</li>
<li><code>${extension}</code> -- the extension of the source file.</li>
<li><code>${targetLocale}</code> - target locale code (of a form "xx_YY").</li>
<li><code>${targetLanguage}</code> - the target language and country code together (of a form "XX-YY").</li>
<li><code>${targetLanguageCode}</code> - the target language only ("XX").</li>
<li><code>${targetCoutryCode}</code> - the target country only ("YY").</li>
</ul>

<p>We can easily add more variables if you ask us and say what your pet variable is about.</p>

</div>

<div class="navbar-bottom">

<table border="0" cellpadding="2" width="100%" summary="Navigation Bar">
<tr><td width="7%" align="left" valign="center"><a href="./OmegaT.html" title="Table of Contents"><img src="OmegaT.png" border="0" alt="OmegaT Logo"></a></td>
<td width="9%" align="left" valign="center"><b>Previous</b></td>
<td width="39%" align="left" valign="center"><a href="./FilesEditingTagged.html">Tagged (Formatted) Files Text Editing</a></td>
<td width="6%" align="left" valign="center"><b>Next</b></td>
<td width="39%" align="left" valign="center"><a href="./FilesProjDirs.html">Project Files and Directories</a></td></tr>
</table>

</div>

</body>
</html>